<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Strona główna</title>
    <link rel="stylesheet" href="/css/navlefttop.css">
    <link rel="stylesheet" href="/css/profilestyle.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Thambi+2&display=swap" rel="stylesheet">
   
    <link rel="stylesheet" href="/css/mainPage.css">
    <script src="/js/fetcher.js" type="text/javascript" defer></script>
    <script src="/js/showPost.js" type="text/javascript"></script>

</head>
<body onload="fetchPosts()">

<div id="nav">
    <a th:href="@{/mainPage}">
        <img src="/icons/Navbar/iconLogoNavbar.svg" alt="Strona główna">
    </a> <hr>
    <a th:href="@{/uploadPhoto}">
        <img src="/icons/Navbar/iconAddPostNavbar.svg" alt="Dodaj zdjęcie">
    </a><hr>
    <a th:href="@{/maps}">
        <img src="/icons/Navbar/iconMapNavbar.svg" alt="Mapa">
    </a><hr>
    <a th:href="@{/photoit}">
        <img src="/icons/Navbar/iconWeatherNavbar.svg" alt="Pogoda">
    </a><hr>
    <a th:href="@{/profile}">
        <img src="/icons/Navbar/iconPhotosNavbar.svg" alt="Zakupione zdjęcia">
    </a><hr>
    <a th:href="@{/photoit}">
        <img src="/icons/Navbar/iconReportsNavbar.svg" alt="Panel zgłoszeń">
    </a><hr>
    <a th:href="@{/photoit}">
        <img src="/icons/Navbar/iconSalesNavbar.svg" alt="Panel zakupów zdjęcia">
    </a>
</div>

<div id="centerbox">

    <div id="top">
        <form th:action="@{/search}" method="get">
            <input type="search" name="search" placeholder="Wyszukaj">
            <!--<label>
                <input type="search" name="search" placeholder="Wyszukaj">
                <img src="/navicons/loupe.png" id="iconinput">
            </label>--> <!--do usuniecia okej-->
            <input type="submit" value="Szukaj" id="search"/>
        </form>

        <h2 style="color: white">Saldo: </h2> <p style="color: white; font-size: 1.4em; margin-top: 1em" id="saldoreturn" th:text="${money}"></p>
        <img src="/icons/Navbar/iconNotificationNavbar.svg" id="notification" alt="powiadomienie"> <!--po nacisnieciu lista-->


        <a th:href="@{/profile}">
            <img th:src="${profilepic}" id="profpicminature" alt="profile picture">
        </a>
    </div>

    <div id="mainbox" >
        <div id="mainpageuserbox"> <!-- set maxheight 80%-->

            <!--
           <div class="post" id="post"> flex column
                <div id="postheader">
                    <div id="leftheader">
                        <div id="profpicture"><img src="/images/profpic/nopicture.jpg" alt="zdjęcie profilowe"></div>
                        <div id="nick">@Testerowanie</div>
                    </div>
                    <div id="rightheader">
                        <div><button>Obserwuj</button></div>
                        <div><button><img src="/icons/MainPage/iconPostSettingsMainpage.svg" alt="post settings icon"></button></div>
                    </div>
                    
                </div>
                <div id="postphoto">
                    <img src="/images/user13/17.png" alt="zdjęcie nr13" id="image1" >

                    <div id="showpicture" class="modal">
                        <span class="close">&times;</span>
                        <img class="modal-content" id="img01">
                        <div id="photodetailsbox">
                            <div>Informacje o zdjęciu:</div><hr>
                            <div class="photoInfo">Rozmiar:
                                </div><hr>
                            <div class="photoInfo">Wymiary:
                                </div><hr>
                            <div class="photoInfo">Ujęcie:
                                </div><hr>
                            <div class="photoInfo">ISO: 
                                </div><hr>
                            <div class="photoInfo">
                                Urządzenie: 
                                </div>
                        </div>
                    </div>
                    
                </div>
                <script src="/js/modal.js" type="text/javascript"></script>


                <div id="postinfobox">
                        <div id="leftinfobox">
                            <div id="descriptionbox">
                                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dolor enim quis dolorum, similique quo ullam dignissimos aliquid molestiae explicabo, delectus velit officiis at asperiores amet quas ratione commodi praesentium necessitatibus placeat neque. Perferendis saepe laudantium neque velit architecto, fugiat iusto impedit? Cum ab in voluptatibus, natus quasi praesentium est unde voluptates libero ratione iure quaerat vel commodi, adipisci a veniam rem molestias beatae aliquid eaque sunt odio tempora! Nesciunt rerum animi praesentium fugiat consectetur dolores voluptate dolorum iure maxime ipsa.
                            </div>
                            <div id="tagsbox">
                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Deleniti voluptas expedita dignissimos excepturi, deserunt officiis, cupiditate eligendi similique hic magni ex rerum nihil perferendis ducimus, maiores distinctio suscipit voluptates modi.
                            </div>
                        </div>
                        <div id="rightinfobox">
                            <div id="reactionbox">
                                <img src="/icons/Post/iconLikePost.svg" alt="reaction icon">
                                235
                            </div>
                            <div id="commentsbox">
                                <img src="/icons/Post/iconCommentPost.svg" alt="comments icon">
                                24
                            </div>
                        </div>
                </div>
                <div id="comments">
                    
                </div>
                -->

        <div id="postbox">
            <div th:each="post: ${posts}">
                <img src="${post.getPhoto().getPath()}" alt="zdjęcie id1">
                <p>Id postu:<a th:text="${post.getIdPost()}" ></a></p>
                <p>Opis: <a th:text="${post.getDescription()}"></a></p>
                <p>Tagi: <a th:text="${post.getTags()}"></a></p>
                <p>Id zdjecia: <a th:text="${post.getPhoto().getPhotoId()}"></a></p>
                <p>Login twórcy: <a th:text="${post.getUser().getLogin()}"></a></p>
                <div id="podmien"></div>
                <button onclick="photoFetcher()">Dej zdjęcie</button>
                <div id="photoDiv"></div>
                <div id="commentBox">
                    <form th:action="@{/addComment}" method="post">
                        <label>Dodaj komentarz:</label>
                        <input type="text" name="comment" id="comment"/>
                        <input type="hidden" name="idPost" id="idPost" th:value="${post.getIdPost()}"/>
                        <input type="submit" value="Wyślij" name="sendComment" id="sendComment"/>
                    </form>
                </div>

                <div id="reactionBox">
                    <form th:action="@{/addReaction}" method="post">
                        <label>Reakcja:</label>
                        <input type="hidden" name="idPostReakcja" id="idPostReakcja" th:value="${post.getIdPost()}"/>
                        <input type="submit" value="Lubie to!" name="reaction" id="reaction"/>
                    </form>
                </div>

            </div>
        </div>
    </div>

</div>


</body>
</html>